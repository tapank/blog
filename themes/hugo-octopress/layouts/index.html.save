{{ partial "header.html" . }}

<div id="main">
 <div id="content">
  <div class="blog-index">
    {{ $paginator := .Paginate (where .Data.Pages "Type" "post") }}
    {{ range $paginator.Pages }}
    <article>
        {{ .Scratch.Set "isHome" true }}
        {{ partial "post_header.html" . }}

        {{ if eq .Site.Params.truncate false }}
        {{ .Content }}
        {{ else if .Description }}
        {{ .Description }}
          <footer>
            <a href="{{ .Permalink }}" rel="full-article">{{ if isset .Site.Params "continueReadingText" }}{{ .Site.Params.continueReadingText }} &rarr;{{ else }}Read On &rarr;{{ end }}</a>
          </footer>
        {{ else }}
          <p>{{ .Summary }}</p>

          {{ if .Truncated }}
              <footer>
                  <a href="{{ .Permalink }}" rel="full-article">{{ if isset .Site.Params "continueReadingText" }}{{ .Site.Params.continueReadingText }} &rarr;{{ else }}Read On &rarr;{{ end }}</a>
              </footer>
          {{ end }}
        {{ end }}
    </article>
    {{ end }}
    {{ partial "pagination.html" . }}
  </div>
  {{ partial "sidebar.html" . }}
 </div>
</div>

